<!DOCTYPE html>
<html lang="en" ng-app="ignis">
    
    <head>
        <script src="node_modules/angular/angular.min.js"></script>
        <script src="node_modules/angular-route/angular-route.min.js"></script>
        <script src="js/app.js"></script>
        <title>Ignis</title>
        <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="css/main.css">
        <script src="node_modules/phaser/build/phaser.min.js"></script>
        <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no" />
    </head>
    
    
    <body ng-controller="MyController">
        
        <div id = "toolbar">
            <!-- Content for toolbar here -->
        </div>
        
        <div id = "contentArea"> 
            
            <div id = "leftSidebar">
                <!-- SceneTree + Tileset + Terrain -->
            </div>
            
            <div id="renderArea">
                <div id="canvasArea">
                </div>
            </div>
                
        </div>
        
        <div id = "bottomBar">
            <!-- Status Information -->
        </div>
                     
    </body>
    
    <script>
        
        var remote = require('remote');
        var app = remote.require('app');
        var shell = require('shell');
        var path = require('path');        
        
        
        myWindow = remote.getCurrentWindow();
        var doFullScreen = function() {
            myWindow.setFullScreen(true);
        };
        
        var exitFullScreen = function() {
            myWindow.setFullScreen(false);
        };
        
        var toggleDeveloperTool = function() {
            myWindow.toggleDevTools();
        };
        
        var quitApplication = function() {
            app.quit();
        };
        
        var openImage = function() {
            //var someFile = path.resolve("C:/Users/Fabien/Development/Javascript/LearningElectron/images/cave.png");
            var someFile = path.resolve("./images/cave.png");
            shell.openItem(someFile);  
        };
        
        window.onload = function() {

            var game = new Phaser.Game(800 - 280, 600 - 80, 
                Phaser.AUTO, "canvasArea", 
                { preload: preload, create: create });
                
            var chessTexture;
            

            function preload () {
                game.load.image("logo", "images/cave.png");
            }

            function create () {
                
                var logo = game.add.sprite(game.world.centerX, game.world.centerY, "logo");
                
                generateChessTexture();         
            }
            
            function generateChessTexture() {
                
                // Create the chess texture
                var graphics = game.add.graphics(0, 0);
                
                graphics.beginFill(0xFFFFFF);
                graphics.drawRect(0, 0, 32, 32);
                graphics.endFill();
                
                graphics.beginFill(0x666666);
                graphics.drawRect(16, 0, 16, 16);
                graphics.drawRect(0, 16, 16, 16);
                graphics.endFill();      
                
                chessTexture = game.add.sprite(0, 0, graphics.generateTexture()); 
                
                graphics.destroy();                
                
            }
            
            window.onresize = function() {
                
                var renderArea = document.getElementById("renderArea"); 
                
                var width = renderArea.clientWidth;
                var height = renderArea.clientHeight;
                
                game.width = width;
                game.height = height;          
               
                    
            }
                       
             
        };   
        
    </script>    
    
</html>

